// Generated by CoffeeScript 1.3.3
(function() {
  var CMinion, Minion, filepath, fs, port, restify, server;

  restify = require("restify");

  fs = require("fs");

  CMinion = require("../../minion");

  Minion = new CMinion();

  filepath = "/usr/share/dict/words";

  server = restify.createServer();

  server.use(restify.queryParser());

  server.get("/", function(req, res) {
    return fs.readFile(filepath, function(err, data) {
      if (err) {
        throw err;
      }
      res.send(data.toString());
      return Minion.logRequest(req.query);
    });
  });

  port = process.env.PORT || 3000;

  Minion.started();

  server.listen(port, function() {
    return console.log("Listening on port " + port);
  });

}).call(this);
